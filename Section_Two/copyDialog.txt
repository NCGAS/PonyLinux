ponygo cutiemarkcrusaders "Welcome to your lesson on copying files!"; touch filename;
ponygo applebloom "Files and folders can be copied using the ${b}cp${r} command$ in linux."
ponygo carrot "You may be used to copying and pasting as two separate actions, or as a drag-and-drop action with your mouse; in Unix you specify both what you want to copy and then where to put it. You can't put files into the 'clipboard' the same way you would do on other systems."
ponygo sweetie "The copied item is referred to as the ${b}"source"${r}, and the place to put it can be called the ${b}destination${r} or ${b}target${r}. You will see these terms when copying files across two different computers too."
ponygo applebloom "One important thing to know about copying files is that by default, Unix will overwrite a file if you copy it to a name that already exists. What's worse, it won't ask you first, it'll just clobber your file!"
ponygo sweetie "Many places recognize how destructive this can be, and turn on the ${b}-i flag${r} for you. If you do ${b}cp -i file1 where_to_put_file1${r}, and there is already a file called ${b}where_to_put_file1${r}, then it will ask you if you are sure you want to overwrite it."
ponygo applebloomdance "The opposite of the ${b}-i flag${r} is the ${b}-f flag${r}, which ${b}forces${r} cp to overwrite files. Since this is the default behavior, the ${b}-f flag${r} only does something when combined with something like ${b}-i${r}, which asks, or ${b}-n${r}, which assumes to never overwrite. "
ponygo applebloom "Your system may have the ${b}-i flag${r} on with copy by default. You can find out what overrides are in place by running the ${b}alias${r} command. Take a look: "; getInput 'alias' "Not quite."; echo "Good job! ";alias; echo 'alias cp="cp -i"'
ponygo berrypinch "${b}alias cp=\"cp -i\"${r}${n2}This might look a little hard to read, but think of it like what is before the equals sign ${b}(=)${r} is being automatically changed to what is after the equals sign. We will talk about how to set these aliases in another lesson in more detail, but for now you can check and see if ${b}cp${r} is listed. Other common aliases are ${b}rm${r} to ${b}rm -i${r}, ${b}mv${r} to ${b}mv -i${r}, and modifications of ${b}ls${r} to change the default output."
ponygo noi "If you remember the ${b}ls${r} command from Section One, there were different ways of referring to a directory or file you wanted to list. You can specify the full path starting with the root directory ${b}(/)${r}, or you can give directions to the path relative to where you currently are. The same concept applies to the ${b}cp command${r}. I can copy a file into the directory above me. Try it: cp filename ../"; getInput 'cp filename ../' "Not quite."; echo "Good job!";
ponygo berrypinch "I can copy a file from the root directory into my current directory like so. ${n}Try it: cp /etc/profile ."; getInput 'cp /etc/profile' "Not quite."; echo "Good job!";
ponygo noi "Did you notice that in both the exercises we just did, the destination was a directory?${n} Bash assumes that if you copy a file and give a directory name as the destination, it will put your file inside the target directory and keep the file's name the same. You don't have to worry about copy replacing a directory with a file. You can use a ${b}/${r} at the end of the directory name if you like. "
ponygo berrypinch "So if I have a file called apple_pie.txt in my current directory, and I want to copy it into recipes, then the following commands are exactly equivalent:\n ${b}cp apple_pie.txt recipes${r} \n ${b}cp apple_pie.txt recipes/${r} \n ${b}cp apple_pie.txt recipes/apple_pie.txt${r}"
ponygo flowertrio "If I wanted to really confuse my friends, I could copy the file and change the file's name to ${b}sugar_cream_pie.txt${r} at the same time:\n ${b}cp apple_pie.txt${r} ${b}recipes/sugar_cream_pie.txt${r}"
ponygo berrypinch "Be warned that you can't create directories along the way. If there is no directory in recipes called favorites, then I can't do the following:\n ${b}cp apple_pie recipes/favorites/apple_pie.txt${r}"
ponygo sweetie "We will get into creating directories in Section Three. So far we've talked about how to copy a file, but what about multiple files? Just as in ${b}ls${r}, we can use special characters to copy multiple files at once. For example, if I wanted to copy all the files from recipes into a friend's recipe folder, I could use the ${b}star/asterisk/*/wildcard${r} character: ${n}${b}cp recipes/*${r} ${b}/home/applejack/recipes${r}"
ponygo limestone "I can also use the star in the middle of words. How would I copy only recipes that start with the word ${b}'apple'${r} into applejack's recipe folder?"
ponygo applecore "Use the wildcard to copy files that start with apple from recipes into /home/applejack/recipes "; getInput 'cp recipes/apple* /home/applejack/recipes' "Keep trying"; echo "Good job! cp recipes/apple* /home/applejack/recipes";
ponygo marble "Great work! I know that's a lot, but there's one more thing we have to talk about - directories. You can't just copy a directory into another place, because it contains other things. Try this:\n${b}cp recipes /home/rdash\n cp: recipes is a directory (not copied)${r}"
ponygo applebloom "In order to copy a directory, you have to use the ${b}-R flag${r}. That's a ${b}capital R!${r} It stands for recursive, which is just a fancy way of saying to keep copying subdirectories and the subdirectories of the subdirectories and the... you know what I mean. Keep going until you have copied all the stuff that is in that directory."
ponygo cutiemarkcrusaders "You can also think of recursion another way. Say you want to meet new people - you start out meeting your friend's friends. Then you might meet their friends. If you keep at it, you will end up knowing everyone in the world! Now you try it."
ponygo carrot "How would I copy my recipes folder into my friend's home directory, /home/rdash?" "You need to try adding the recursion flag, ${b}-R${r}"; getInput 'cp -R recipes /home/rdash' "Not quite."; echo "Good job!";
ponygo applebloom "Even when you copy a directory using the ${b}-R flag${r}, note that you can't replace a file with a directory.  If you are trying to create a copy of a directory with the name of a file that already exists, it will give you an error. So ${b}cp -R recipes apple_pie.txt${r} will not work if apple_pie.txt is an already existing file. No transmuting files to directories in Linux!"
ponygo cutiemarkcrusaders "Next we'll talk about moving files, which is a cut and paste style of operation instead of a copy and paste. See you then, $PONYUSER!"
